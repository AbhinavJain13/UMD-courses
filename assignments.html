<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Big Data Infrastructure</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
      pre {
        font-size: 90%;
      }
    </style>
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="assets/ico/favicon.png"-->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a href="index.html">Home</a></li>
              <li><a href="overview.html">Overview</a></li>
              <li><a href="syllabus.html">Syllabus</a></li>
              <li class="active"><a href="assignments.html">Assignments</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container">

  <div class="page-header">
    <h1>Assignments <small>Big Data Infrastructure (Spring 2015)</small></h1>
  </div>

  <div class="subnav">
    <ul class="nav nav-pills">
      <li><a href="#assignment0">0</a></li>
      <li><a href="#assignment1">1</a></li>
      <li><a href="#assignment2">2</a></li>
      <li><a href="#assignment3">3</a></li>
      <li><a href="#assignment4">4</a></li>
      <li><a href="#assignment5">5</a></li>
      <li><a href="#assignment6">6</a></li>
      <li><a href="#assignment7">7</a></li>
      <li><a href="#finalproject">Final Project</a></li>
    </ul>
  </div>


<section id="assignment0" style="padding-top:35px">
<div>
<h3>Assignment 0: Prelude <small>due 6:00pm January 26</small></h3>

<p>Note that this course requires you to have access to a reasonable
recent computer with at least 4 GB memory and plenty of hard disk
space.</p>

<p>Complete
the <a href="http://lintool.github.com/Cloud9/docs/word-count.html">word
count tutorial</a> in Cloud<sup>9</sup>, which is a Hadoop toolkit we're
going to use throughout the course. The tutorial will take you
through setting up Hadoop on your local machine and running Hadoop on
the virtual machine. It'll also begin familiarizing you with
GitHub.</p>

<p><b>Note:</b> This assignment is not explicitly graded, except as
part of Assignment 1.</p>

<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment1" style="padding-top:35px">
<div>
<h3>Assignment 1: Warmup <small>due 6:00pm February 2</small></h3>

<p>Make sure you've completed
the <a href="http://lintool.github.com/Cloud9/docs/word-count.html">word
count tutorial</a> in Cloud<sup>9</sup>.</p>

<p>Sign up for a <a href="http://github.com/">GitHub</a> account. It is
very important that you do so as soon as possible, because GitHub is
the mechanism by which you will submit assignments. Once you've signed
up for an account, go to this page
to <a href="https://github.com/edu">request an educational
account</a>.</p>

<p>Next, create a <b>private</b> repo
called <code>bigdata-assignments</code>. Here
is <a href="https://help.github.com/articles/create-a-repo">how you
create a repo on GitHub</a>. For "Who has access to this repository?",
make sure you click "Only the people I specify". If you've
successfully gotten an educational account (per above), you should be
able to create private repos for free. Take some time to learn about
git if you've never used it before. There are plenty of good tutorials
online: do a simple web search and find one you like. If you've used
svn before, many of the concepts will be familiar, except that git
is far more powerful.</p>

<p>After you've learned about git, set aside the repo for now; you'll
come back to it later.</p>

<p>In the single node virtual cluster in the word count tutorial, you
should have already ran the word count demo with five reducers:</p>

<pre>
$ hadoop jar target/cloud9-X.Y.Z-fatjar.jar edu.umd.cloud9.example.simple.DemoWordCount \
   -input bible+shakes.nopunc -output wc -numReducers 5
</pre>

<p>Answer the following questions (see instructions below for how to "turn in" these answers):</p>

<p><b>Question 1.</b> What is the first term
in <code>part-r-00000</code> and how many times does it appear?</p>

<p><b>Question 2.</b> What is the third to last term
in <code>part-r-00004</code> and how many times does it appear?</p>

<p><b>Question 3.</b> How many unique terms are there? (Hint: read the
counter values)</p>

<h4 style="padding-top: 10px">Time to write some code!</h4>

<p>Per above, you should have a private GitHub repo called
<code>bigdata-assignments/</code>. Change into that directory. Once
inside, create a Maven project with the following command:</p>

<pre>
$ mvn archetype:create -DgroupId=edu.umd.YOUR_USERNAME -DartifactId=assignment1
</pre>

<p>For <code>YOUR_USERNAME</code>, please use your GitHub username
(not your UMD directory ID, not your email address, or anything
else...). In what follows below, I will use
<code>jimmylin</code>, but you should obviously substitute your
own. Once you've executed the above command you should be able
to <code>cd</code>
into <code>bigdata-assignments/assignment1</code>. In that directory,
you'll find a <code>pom.xml</code> file (which tells Maven how to
build your code); replace with this
one <a href="assignments/pom.xml">here</a> (which is set up properly
for Hadoop), but inside this <code>pom.xml</code>, change the
following line and replace my username with yours.</p>

<pre>
  &lt;groupId&gt;edu.umd.jimmylin&lt;/groupId&gt;
</pre>

<p>Next,
copy <code>Cloud9/src/main/java/edu/umd/cloud9/example/simple/DemoWordCount.java</code>
into <code>bigdata-assignments/assignment1/src/main/java/edu/umd/jimmylin/</code>. Open
up this new version of <code>DemoWordCount.java</code>
in <code>assignment1/</code> using a text editor and change the Java
package to <code>edu.umd.jimmylin</code>.</p>

<p>Now, in the <code>bigdata-assignments/assignment1</code> base
directory, you should be able to run Maven to build your package:</p>

<pre>
$ mvn clean package
</pre>

<p>Once the build succeeds, you should be able to run the word count
demo program in your own repository:</p>

<pre>
$ hadoop jar target/assignment1-1.0-SNAPSHOT-fatjar.jar edu.umd.jimmylin.DemoWordCount \
   -input bible+shakes.nopunc -output wc -numReducers 5
</pre>

<p>The output should be exactly the same as the program above, but the
difference here is that the code is now in a repository under your
control. Congratulations, you've created your first functional Maven
artifact!<p>

<p>Let's do a little bit of cleanup of the words. Modify the word
count demo (your newly-created version in <code>assignment1/</code>)
so that only words consisting entirely of letters are counted. To be
more specific, the word must match the following Java regular
expression:</p>

<pre>
word.matches("[A-Za-z]+")
</pre>

<p>Now run this modified word count, again with five reducers. Answer
the following questions:</p>

<p><b>Question 4.</b> What is the first term
in <code>part-r-00000</code> and how many times does it appear?</p>

<p><b>Question 5.</b> What is the third to last term
in <code>part-r-00004</code> and how many times does it appear?</p>

<p><b>Question 6.</b> How many unique terms are there?

<h4 style="padding-top: 10px">Turning in the Assignment</h4>

<p>Please follow these instructions carefully!</p>

<p>At this point, you should have a GitHub
repo <code>bigdata-assignments</code>, and inside the repo, you should
have a directory
called <code>assignment1/</code>. Under <code>assignment1/</code>, you
should already have the code for the modified word count example above
(i.e., questions 4, 5, 6). Commit all of this code and push to
GitHub.</p>

<p>Next, under <code>assignment1/</code>, create a file
called <code>assignment1.md</code>. In that file, put your answers to
the above questions 1 through 6. Use the Markdown annotation format:
here's
a <a href="http://daringfireball.net/projects/markdown/basics">simple
guide</a>. Here's an <a href="http://markable.in/editor/">online
editor</a> that's also helpful.</p>

<p>Make sure you have committed everything and have pushed your repo
back to origin. You can verify that it's there by logging into your
GitHub account (in a web browser): your assignment should be
viewable in the web interface.</p>

<p>Almost there! Add the
user <a href="https://github.com/teachtool">teachtool</a> a
collaborator to your repo so that I can check it out (under settings
in the main web interface on your repo). Note: do <b>not</b> add my
primary GitHub
account <a href="https://github.com/lintool">lintool</a> as a
collaborator.</p>

<p>Finally, send me an email, to jimmylin@umd.edu with the subject
line "Big Data Infrastructure Assignment #1". In the body of the email
message, tell me what your GitHub username is so that I can link your
repo to you. Also, in your email please tell me how long you spent
doing the assignment, including everything (installing the VM,
learning about git, working through the tutorial, etc.).</p>


<h4 style="padding-top: 10px">Grading</h4>

<p>Here's how I am going to grade your assignment. I will clone your
repo, go into your <code>assignment1/</code> directory, and build your
Maven artifact:</p>

<pre>
$ mvn clean package
</pre>

<p>I am then going to run your code:</p>

<pre>
$ hadoop jar target/assignment1-1.0-SNAPSHOT-fatjar.jar edu.umd.jimmylin.DemoWordCount \
   -input bible+shakes.nopunc -output wc -numReducers 5
</pre>

<p>Once the code completes, I will verify its output. To make sure
everything is in the proper place, you should do a fresh clone, i.e.,
clone your own repo, but in a different location, and run through
these same steps. If it works for you, it'll work for me.</p>

<p>The purpose of this assignment is to familiarize you with the
Hadoop development environment. You'll get a "pass" if you've
successfully completed the assignment. I expect everyone to get a
"pass".</p>

<p style="padding-top: 20px"><a href="#">Back to top</a></p>

</div>
</section>


<section id="assignment2" style="padding-top:35px">
<div>
<h3>Assignment 2: Counting <small>due 6:00pm February 16</small></h3>

<p>Begin by setting up your development environment. In your GitHub
repo <code>bigdata-assignments/</code>, create a Maven project with
the following command:</p>

<pre>
$ mvn archetype:create -DgroupId=edu.umd.YOUR_USERNAME -DartifactId=assignment2
</pre>

<p>For <code>YOUR_USERNAME</code>, please use your GitHub username
(not your UMD directory ID, not your email address, or anything
else...). In what follows below, I will use
<code>jimmylin</code>, but you should obviously substitute your
own. Once you've executed the above command, change directory
to <code>bigdata-assignments/assignment2</code>. In that directory,
replace <code>pom.xml</code> with this
version <a href="assignments/pom.xml">here</a> (which is set up
properly for Hadoop). However, inside <code>pom.xml</code>, change the
following line and replace my username with yours.</p>

<pre>
  &lt;groupId&gt;edu.umd.jimmylin&lt;/groupId&gt;
</pre>

<p>Also, replace all instances of <code>assignment1</code> with
<code>assignment2</code>.</p>

<p>The actual assignment begins with an optional <i>but
recommended</i> component: complete
the <a href="http://lintool.github.com/Cloud9/docs/exercises/bigrams.html">bigram
counts exercise</a> in Cloud<sup>9</sup>. The solution is already
checked in the repo, so it won't be graded. Even if you decide not to
write code for the exercise, take some time to sketch out what the
solution would look like. The exercises are designed to help you
learn: jumping directly to the solution defeats this purpose.</p>

<p>In this assignment you'll be
computing <a href="http://en.wikipedia.org/wiki/Pointwise_mutual_information">pointwise
mutual information</a>, which is a function of two events <i>x</i>
and <i>y</i>:</p>

<p><img width="200" src="assignments/PMI.png"/></p>

<p>The larger the magnitude of PMI for <i>x</i> and <i>y</i> is,
the more information you know about the probability of seeing <i>y</i>
having just seen <i>x</i> (and vice-versa, since PMI is
symmetrical). If seeing <i>x</i> gives you no information about seeing
<i>y</i>, then <i>x</i> and <i>y</i> are independent and the PMI is
zero.</p>

<p>To complete this assignment, you'll need to work with the UMIACS
cluster. In the beginning of the assignment you'll be working with the
toy <code>bible+shakes.nopunc.gz</code> corpus, but later you'll move
to a larger corpus (more below). You can start working on the UMIACS
cluster directly, or you can start on the Cloudera VM and move to the
UMIACS cluster later. It's your choice, but as we discussed in class,
debugging may be easier inside your Cloudera VM.</p>

<p>Write a program that computes the PMI of words in the
sample <code>bible+shakes.nopunc.gz</code> corpus. To be more
specific, the event we're after is <i>x</i> occurring on a line in the
file or <i>x</i> and <i>y</i> co-occurring on a line. That is, if a
line contains A, A, B; then there is only one instance of A and B
appearing together, not two. To reduce the number of spurious pairs,
we are only interested in pairs of words that co-occur in ten or more
lines. Use the same definition of "word" as in the word count demo:
whatever Java's <code>StringTokenizer</code> gives.</p>

<p>You will build two versions of the program (put both in
package <code>edu.umd.YOUR_USERNAME</code>):</p>

<ol>

  <li>A "pairs" implementation. The implementation must use
  combiners. Name this implementation <code>PairsPMI</code>.</li>

  <li>A "stripes" implementation.  The implementation must use
  combiners. <code>StripesPMI</code>.</li>

</ol>

<p>If you feel compelled (for extra credit), you are welcome to try
out the "in-mapper combining" technique for both implementations.</p>

<p>Since PMI is symmetrical, PMI(x, y) = PMI(y, x). However, it's
actually easier in your implementation to compute both values, so
don't worry about duplicates. Also, use <code>TextOutputFormat</code>
so the results of your program are human readable.</p>

<p><b>Note:</b> just so everyone's answer is consistent, please use
log base 10.</p>

<p>Answer the following questions:</p>

<p><b>Question 0.</b> <i>Briefly</i> describe in prose your solution,
both the pairs and stripes implementation. For example: how many
MapReduce jobs? What are the input records? What are the intermediate
key-value pairs? What are the final output records? A paragraph for
each implementation is about the expected length.</p>

<p><b>Question 1.</b> What is the running time of the complete pairs
implementation? What is the running time of the complete stripes
implementation? (Did you run this in your VM or on the UMIACS cluster?
Either is fine, but tell me which one.)</p>

<p><b>Question 2.</b> Now disable all combiners. What is the running
time of the complete pairs implementation now? What is the running
time of the complete stripes implementation? (Did you run this in your
VM or on the UMIACS cluster?  Either is fine, but tell me which
one.)</p>

<p><b>Question 3.</b> How many distinct PMI pairs did you extract?</p>

<p><b>Question 4.</b> What's the pair (x, y) with the highest PMI?
Write a sentence or two to explain what it is and why it has such a
high PMI.</p>

<p><b>Question 5.</b> What are the three words that have the highest
PMI with "cloud" and "love"? And what are the PMI values?</p>

<p>Note that you can compute the answer to questions 3&mdash;5 however
you wish: a helper Java program, a Python script, command-line
manipulation, etc.</p>

<p>Now, answer the same questions 1&mdash;5 for the following corpus, which
is stored on HDFS on the UMAICS cluster:</p>

<pre>
/shared/simplewiki-20141222-pages-articles.txt
</pre>

<p>That file is 121 MB and contains the latest version
of <a href="http://simple.wikipedia.org/wiki/Main_Page">Simple English
Wikipedia</a>. Number the answers to these questions 6&mdash;10.</p>

<p>Note that it is possible to complete questions 1&mdash;5 on your
Cloudera VM, but you <i>must</i> answer questions 6&mdash;10 on the
UMIACS cluster. This is to ensure that your code "scales
correctly".</p>

<h4 style="padding-top: 10px">Turning in the Assignment</h4>

<p>Please follow these instructions carefully!</p>

<p>Make sure your repo has the following items:</p>

<ul>

<li>Similar to your first assignment, the answers to the questions go
in <code>bigdata-assignments/assignment2/assignment2.md</code>.</li>

<li>The pairs and stripes implementation should be
in <code>bigdata-assignments/assignment2/src/</code>. Of course, your
repo may contain other Java code.</li>

</ul>

<p>When grading, I will perform a clean clone of your repo, change
directory into <code>bigdata-assignments/assignment2/</code> and build
your code:<p>

<pre>
$ mvn clean package
</pre>

<p>Your code should build successfully.  I am then going to run your
code (for the pairs and stripes implementations, respectively):</p>

<pre>
$ hadoop jar target/assignment2-1.0-SNAPSHOT-fatjar.jar edu.umd.YOUR_USERNAME.PairsPMI \
   -input DATA -output output-pairs -numReducers 5

$ hadoop jar target/assignment2-1.0-SNAPSHOT-fatjar.jar edu.umd.YOUR_USERNAME.StripesPMI \
   -input DATA -output output-stripes -numReducers 5
</pre>

<p>For <code>DATA</code>, I am either going to
use <code>bible+shakes.nopunc</code>
or <code>simplewiki-20141222-pages-articles.txt</code> (you can assume
that I'll supply the correct HDFS path). Note that I am going to check
the output and I expect the contents in the final output on HDFS to be
human readable.</p>

<p>When you've done everything, commit to your repo and remember to
push back to origin. You should be able to see your edits in the web
interface. Before you consider the assignment "complete", I would
recommend that you verify everything above works by performing a clean
clone of your repo and going through the steps above.</p>

<p>That's it! There's no need to send me anything&mdash;I already know
your username from the first assignment. Note that everything should
be committed and pushed to origin before the deadline (before class on
February 16). Git timestamps your commits and so I can tell if your
assignment is late.</p>

<h4 style="padding-top: 10px">Hints</h4>

<ul>
  <li>Did you take a look at the <a href="http://lintool.github.com/Cloud9/docs/exercises/bigrams.html">bigram
counts exercise</a>?</li>

  <li>Your solution may require more than one MapReduce job.</li>

  <li>Recall from lecture techniques for loading in "side data"?</li>

  <li>Look in <code>edu.umd.cloud9.example.cooccur</code> for a
  reference implementation of the pairs and stripes techniques.</li>

  <li>As disscussed in class,
  my <a href="https://github.com/lintool/tools/tree/master/lintools-datatypes/">lintools-datatypes
  package</a> package has <code>Writable</code> datatypes that you
  might find useful.</li>

</ul>

<h4 style="padding-top: 10px">Grading</h4>

<p>The entire assignment is worth 40 points:

<ul>

<li>Each of the questions 1 to 10 is worth 1 point, for a total of 10
points.</li>

<li>The pairs implementation is worth 10 points and the stripes
implementation is worth 10 points. The purpose of question 0 is to
help me understand your implementation.</li>

<li>Getting your code to run is worth 5 points for each implementation
(i.e., 10 points total). That is, to earn all five points, I should be
able to run your code (building and running), following exactly the
procedure above. Therefore, if all the answers are correct and the
implementation seems correct, but I cannot get your code to build and
run, you will only get a score of 30/40.</li>

</ul>

<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment3" style="padding-top:35px">
<div>
<h3>Assignment 3: Inverted Indexing <small>due 6:00pm February 23</small></h3>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment4" style="padding-top:35px">
<div>
<h3>Assignment 4: Graphs <small>due 6:00pm March 9</small></h3>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment5" style="padding-top:35px">
<div>
<h3>Assignment 5: HBase <small>due 6:00pm March 30</small></h3>

<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment6" style="padding-top:35px">
<div>
<h3>Assignment 6: Project Proposal <small>due 6:00pm April 13</small></h3>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="assignment7" style="padding-top:35px">
<div>
<h3>Assignment 7: Data Analytics <small>due 6:00pm April 20</small></h3>


<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<section id="finalproject" style="padding-top:35px">
<div>
<h3>Final Project <small>presentations on May 4 and May 11</small></h3>

<p style="padding-top: 20px"><a href="#">Back to top</a></p>
</div>
</section>


<p style="padding-top:100px" />

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/bootstrap-transition.js"></script>
    <script src="assets/js/bootstrap-alert.js"></script>
    <script src="assets/js/bootstrap-modal.js"></script>
    <script src="assets/js/bootstrap-dropdown.js"></script>
    <script src="assets/js/bootstrap-scrollspy.js"></script>
    <script src="assets/js/bootstrap-tab.js"></script>
    <script src="assets/js/bootstrap-tooltip.js"></script>
    <script src="assets/js/bootstrap-popover.js"></script>
    <script src="assets/js/bootstrap-button.js"></script>
    <script src="assets/js/bootstrap-collapse.js"></script>
    <script src="assets/js/bootstrap-carousel.js"></script>
    <script src="assets/js/bootstrap-typeahead.js"></script>

  </body>
</html>
